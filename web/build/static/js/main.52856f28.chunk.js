(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){},32:function(e,t,a){e.exports=a(46)},37:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(14),c=a.n(o),i=(a(37),a(7)),l=a(8),s=a(11),u=a(9),m=a(10),d=(a(26),a(6)),h=a.n(d),p=a(15),f=a(5),E=a(3),v=a(48),g=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={isOpen:!1},a.toggle=a.toggle.bind(Object(f.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return r.a.createElement(E.l,{color:"dark",dark:!0,expand:"md"},r.a.createElement(E.m,{tag:v.a,to:"/"},"Home"),r.a.createElement(E.n,{onClick:this.toggle}),r.a.createElement(E.c,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(E.i,{className:"ml-auto",navbar:!0},r.a.createElement(E.j,null,r.a.createElement(E.k,{href:"https://twitter.com/oktadev"},"@oktadev")),r.a.createElement(E.j,null,r.a.createElement(E.k,{href:"https://github.com/oktadeveloper/okta-spring-boot-react-crud-example"},"GitHub")))))}}]),t}(n.Component),b=a(13),y=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={isLoading:!0,isAuthenticated:!1,user:void 0};var n=e.cookies;return a.state.csrfToken=n.get("XSRF-TOKEN"),a.login=a.login.bind(Object(f.a)(a)),a.logout=a.logout.bind(Object(f.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(h.a.mark(function e(){var t,a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user",{credentials:"include"});case 2:return t=e.sent,e.next=5,t.text();case 5:""===(a=e.sent)?this.setState({isAuthenticated:!1}):this.setState({isAuthenticated:!0,user:JSON.parse(a)});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=window.location.port?":"+window.location.port:"";":3000"===e&&(e=":8080"),window.location.href="//"+window.location.hostname+e+"/private"}},{key:"logout",value:function(){fetch("/api/logout",{method:"POST",credentials:"include",headers:{"X-XSRF-TOKEN":this.state.csrfToken}}).then(function(e){return e.json()}).then(function(e){window.location.href=e.logoutUrl+"?id_token_hint="+e.idToken+"&post_logout_redirect_uri="+window.location.origin})}},{key:"render",value:function(){var e=this.state.user?r.a.createElement("h2",null,"Welcome, ",this.state.user.name,"!"):r.a.createElement("p",null,"Please log in to manage your JUG Tour."),t=this.state.isAuthenticated?r.a.createElement("div",null,r.a.createElement(E.a,{color:"link"},r.a.createElement(v.a,{to:"/groups"},"Manage JUG Tour")),r.a.createElement("br",null),r.a.createElement(E.a,{color:"link",onClick:this.logout},"Logout")):r.a.createElement(E.a,{color:"primary",onClick:this.login},"Login");return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement(E.d,{fluid:!0},e,t))}}]),t}(n.Component),O=Object(b.b)(y),k=a(50),j=a(51),w=a(49),C=a(30),S=a(52),x=function(e){function t(e){var a;Object(i.a)(this,t),a=Object(s.a)(this,Object(u.a)(t).call(this,e));var n=e.cookies;return a.state={groups:[],csrfToken:n.get("XSRF-TOKEN"),isLoading:!0},a.remove=a.remove.bind(Object(f.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("api/groups",{credentials:"include"}).then(function(e){return e.json()}).then(function(t){return e.setState({groups:t,isLoading:!1})}).catch(function(){return e.props.history.push("/")})}},{key:"remove",value:function(){var e=Object(p.a)(h.a.mark(function e(t){var a=this;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/group/".concat(t),{method:"DELETE",headers:{"X-XSRF-TOKEN":this.state.csrfToken,Accept:"application/json","Content-Type":"application/json"},credentials:"include"}).then(function(){var e=Object(C.a)(a.state.groups).filter(function(e){return e.id!==t});a.setState({groups:e})});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.groups;if(t.isLoading)return r.a.createElement("p",null,"Loading...");var n=a.map(function(t){var a="".concat(t.address||""," ").concat(t.city||""," ").concat(t.stateOrProvince||"");return r.a.createElement("tr",{key:t.id},r.a.createElement("td",{style:{whiteSpace:"nowrap"}},t.name),r.a.createElement("td",null,a),r.a.createElement("td",null,t.events.map(function(e){return r.a.createElement("div",{key:e.id},new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"2-digit"}).format(new Date(e.date)),": ",e.title)})),r.a.createElement("td",null,r.a.createElement(E.b,null,r.a.createElement(E.a,{size:"sm",color:"primary",tag:v.a,to:"/groups/"+t.id},"Edit"),r.a.createElement(E.a,{size:"sm",color:"danger",onClick:function(){return e.remove(t.id)}},"Delete"))))});return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement(E.d,{fluid:!0},r.a.createElement("div",{className:"float-right"},r.a.createElement(E.a,{color:"success",tag:v.a,to:"/groups/new"},"Add Group")),r.a.createElement("h3",null,"My JUG Tour"),r.a.createElement(E.o,{className:"mt-4"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{width:"20%"},"Name"),r.a.createElement("th",{width:"20%"},"Location"),r.a.createElement("th",null,"Events"),r.a.createElement("th",{width:"10%"},"Actions"))),r.a.createElement("tbody",null,n))))}}]),t}(n.Component),T=Object(b.b)(Object(S.a)(x)),N=a(31),P=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).emptyItem={name:"",address:"",city:"",stateOrProvince:"",country:"",postalCode:""};var n=e.cookies;return a.state={item:a.emptyItem,csrfToken:n.get("XSRF-TOKEN")},a.handleChange=a.handleChange.bind(Object(f.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(f.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===this.props.match.params.id){e.next=13;break}return e.prev=1,e.next=4,fetch("/api/group/".concat(this.props.match.params.id),{credentials:"include"});case 4:return e.next=6,e.sent.json();case 6:t=e.sent,this.setState({item:t}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),this.props.history.push("/");case 13:case"end":return e.stop()}},e,this,[[1,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name,r=Object(N.a)({},this.state.item);r[n]=a,this.setState({item:r})}},{key:"handleSubmit",value:function(){var e=Object(p.a)(h.a.mark(function e(t){var a,n,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=this.state,n=a.item,a.csrfToken,r=n.id?"/api/group/".concat(n.id):"/api/group/",e.next=5,fetch(r,{method:n.id?"PUT":"POST",headers:{"X-XSRF-TOKEN":this.state.csrfToken,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n),credentials:"include"});case 5:this.props.history.push("/groups");case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.item,t=r.a.createElement("h2",null,e.id?"Edit Group":"Add Group");return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement(E.d,null,t,r.a.createElement(E.e,{onSubmit:this.handleSubmit},r.a.createElement(E.f,null,r.a.createElement(E.h,{for:"name"},"Name"),r.a.createElement(E.g,{type:"text",name:"name",id:"name",value:e.name||"",onChange:this.handleChange,autoComplete:"name"})),r.a.createElement(E.f,null,r.a.createElement(E.h,{for:"address"},"Address"),r.a.createElement(E.g,{type:"text",name:"address",id:"address",value:e.address||"",onChange:this.handleChange,autoComplete:"address-level1"})),r.a.createElement(E.f,null,r.a.createElement(E.h,{for:"city"},"City"),r.a.createElement(E.g,{type:"text",name:"city",id:"city",value:e.city||"",onChange:this.handleChange,autoComplete:"address-level1"})),r.a.createElement("div",{className:"row"},r.a.createElement(E.f,{className:"col-md-4 mb-3"},r.a.createElement(E.h,{for:"stateOrProvince"},"State/Province"),r.a.createElement(E.g,{type:"text",name:"stateOrProvince",id:"stateOrProvince",value:e.stateOrProvince||"",onChange:this.handleChange,autoComplete:"address-level1"})),r.a.createElement(E.f,{className:"col-md-5 mb-3"},r.a.createElement(E.h,{for:"country"},"Country"),r.a.createElement(E.g,{type:"text",name:"country",id:"country",value:e.country||"",onChange:this.handleChange,autoComplete:"address-level1"})),r.a.createElement(E.f,{className:"col-md-3 mb-3"},r.a.createElement(E.h,{for:"country"},"Postal Code"),r.a.createElement(E.g,{type:"text",name:"postalCode",id:"postalCode",value:e.postalCode||"",onChange:this.handleChange,autoComplete:"address-level1"}))),r.a.createElement(E.f,null,r.a.createElement(E.a,{color:"primary",type:"submit"},"Save")," ",r.a.createElement(E.a,{color:"secondary",tag:v.a,to:"/groups"},"Cancel")))))}}]),t}(n.Component),A=Object(b.b)(Object(S.a)(P)),L=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(b.a,null,r.a.createElement(k.a,null,r.a.createElement(j.a,null,r.a.createElement(w.a,{path:"/",exact:!0,component:O}),r.a.createElement(w.a,{path:"/groups",exact:!0,component:T}),r.a.createElement(w.a,{path:"/groups/:id",component:A}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(45);c.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,1,2]]]);
//# sourceMappingURL=main.52856f28.chunk.js.map